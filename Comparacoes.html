<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EducaDadosPE - Comparações</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    .navbar-custom { background: linear-gradient(90deg, #0d6efd, #6610f2); box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .navbar-brand { color: white !important; font-weight: 600; font-size: 1.35rem; }
    .navbar-brand i { color: white; margin-right: 8px; }
    .navbar-nav .nav-link { color: white !important; font-weight: 500; transition: color 0.3s; }
    .navbar-nav .nav-link:hover { color: #ffc107 !important; }
    footer { background: linear-gradient(90deg, #0d6efd, #6610f2); color: white; text-align: center; padding: 25px 0; margin-top: 60px; font-weight: 500; }
    main { max-width: 960px; margin: 60px auto 80px auto; padding: 0 15px; }
    main h2 { color: #0d6efd; font-weight: 600; margin-top: 40px; margin-bottom: 20px; }
    main h5 { color: #0d6efd; font-weight: 600; margin-bottom: 10px; }
    main p { text-align: justify; line-height: 1.6; color: #333; margin-bottom: 20px; font-size: 1.05rem; }

    .summary-section { margin-top: 40px; }
    .summary-card {
      background: white; border: 1px solid #dee2e6; border-radius: 12px;
      text-align: center; padding: 20px 15px; transition: transform 0.25s, box-shadow 0.25s;
    }
    .summary-card:hover { transform: translateY(-3px); box-shadow: 0 4px 12px rgba(0,0,0,0.08); }
    .summary-icon { font-size: 2rem; color: #6610f2; margin-bottom: 8px; }
    .summary-card h5 { font-weight: 600; color: #0d6efd; margin-bottom: 6px; font-size: 1.15rem; }
    .summary-card p { margin: 0; font-size: 1rem; font-weight: 500; color: #444; }
    .summary-card small { display: block; margin-top: 6px; color: #6c757d; font-size: 0.9rem; }
    .summary-card canvas { margin-top: 15px; }

    .legend { text-align: left; font-size: 0.85rem; margin-top: 10px; }
    .legend span { display:inline-block; width:12px; height:12px; margin-right:6px; border-radius:2px; }

    @media (max-width: 768px) { .summary-card { padding: 15px 10px; } .summary-icon { font-size: 1.8rem; } .summary-card h5 { font-size: 1.1rem; } }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-custom sticky-top">
    <div class="container-fluid px-4">
      <a class="navbar-brand" href="PaginaInicial.html">
        <i class="bi bi-book-half"></i> EducaDadosPE
      </a>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon" style="filter: invert(1);"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarContent">
        <ul class="navbar-nav mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link active" href="PaginaInicial.html">Início</a></li>
          <li class="nav-item"><a class="nav-link active" href="Comparacoes.html">Comparações</a></li>
          <li class="nav-item"><a class="nav-link active" href="Sobre.html">Sobre</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container my-5">
    <h2>Comparações Nacionais</h2>

    <h5 class="mt-5">Matriculas, Escolas e Professores</h5>
    <section class="summary-section mt-4">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-people-fill"></i></div>
            <h5>Matrículas</h5>
            <p>47,1 milhões</p>
            <small>Distribuição: pública (80%) / privada (20%)</small>
            <canvas id="graficoMatriculas" height="100"></canvas>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-building-fill"></i></div>
            <h5>Escolas</h5>
            <p>178,5 mil</p>
            <small>Municipais, estaduais, privadas e federais</small>
            <canvas id="graficoEscolas" height="100"></canvas>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-mortarboard-fill"></i></div>
            <h5>Professores</h5>
            <p>2,2 milhões</p>
            <small>Maioria na rede pública; presença desigual por região</small>
            <canvas id="graficoProfessores" height="100"></canvas>
          </div>
        </div>
      </div>
    </section>

    <h5 class="mt-5">IDEB por Estado</h5>
    <section class="summary-section mt-3">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-book text-primary"></i></div>
            <h5>Anos Iniciais</h5>
            <canvas id="graficoIdebIniciais" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#0f5132"></span>Superou a meta +0,5</div>
              <div><span style="background:#198754"></span>Atingiu a meta</div>
              <div><span style="background:#fd7200"></span>Não atingiu</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-journal-check text-info"></i></div>
            <h5>Anos Finais</h5>
            <canvas id="graficoIdebFinais" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#0f5132"></span>Superou a meta +0,5</div>
              <div><span style="background:#198754"></span>Atingiu a meta</div>
              <div><span style="background:#fd7200"></span>Não atingiu</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-mortarboard text-warning"></i></div>
            <h5>Ensino Médio</h5>
            <canvas id="graficoIdebEM" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#0f5132"></span>Superou a meta +0,5</div>
              <div><span style="background:#198754"></span>Atingiu a meta</div>
              <div><span style="background:#fd7200"></span>Não atingiu</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <h5 class="mt-5">Acesso e Trajetória Escolar</h5>
    <section class="summary-section mt-3">
      <div class="row g-4">
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-clock-history text-primary"></i></div>
            <h5>Tempo Integral EM</h5>
            <canvas id="graficoTempoIntegralEM" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#0d6efd"></span>Percentual de alunos</div>
              <div><span style="background:#6610f2"></span>Maior percentual</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-bar-chart text-success"></i></div>
            <h5>Distorção Idade-Série 6º ano</h5>
            <canvas id="graficoDistorcao6ano" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#198754"></span>Menor distorção</div>
              <div><span style="background:#fd7e14"></span>Maior distorção</div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="summary-card">
            <div class="summary-icon"><i class="bi bi-house-door text-warning"></i></div>
            <h5>Educação Infantil (Creche)</h5>
            <canvas id="graficoCreche" height="150"></canvas>
            <div class="legend">
              <div><span style="background:#0d6efd"></span>Pública</div>
              <div><span style="background:#6610f2"></span>Privada</div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Indicadores da Educação - Pernambuco</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const regioes = ['Norte','Nordeste','Centro-Oeste','Sudeste','Sul'];

    const matriculasPublica = [88,85,70,73,76];
    const matriculasPrivada = [12,15,30,27,24];
    new Chart(document.getElementById('graficoMatriculas').getContext('2d'), {
      type:'bar',
      data:{ labels:regioes, datasets:[
        { label:'Pública (%)', data:matriculasPublica, backgroundColor:'#0d6efd' },
        { label:'Privada (%)', data:matriculasPrivada, backgroundColor:'#6610f2' }
      ]},
      options:{ responsive:true, plugins:{ legend:{ position:'top' } }, scales:{ y:{ beginAtZero:true, max:100 } } }
    });

    new Chart(document.getElementById('graficoEscolas').getContext('2d'), {
      type:'pie',
      data:{ labels:['Municipal','Estadual','Privada','Federal'], datasets:[{ data:[59.8,16.5,23.3,0.4], backgroundColor:['#0d6efd','#6610f2','#198754','#fd7e14'] }] },
      options:{ responsive:true, plugins:{ legend:{ position:'bottom' } } }
    });

    new Chart(document.getElementById('graficoProfessores').getContext('2d'), {
      type:'bar',
      data:{ labels:regioes, datasets:[{ label:'Docentes (mil)', data:[550,1200,400,1800,750], backgroundColor:'#198754' }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true } } }
    });

    const ufs = ['AC','AL','AM','AP','BA','CE','DF','ES','GO','MA','MT','MS','MG','PA','PB','PR','PE','PI','RJ','RN','RS','RO','RR','SC','SE','SP','TO'];
    function corIdeb(valor, meta){ return valor>=meta+0.5 ? '#0f5132' : valor>=meta ? '#198754' : '#fd7200'; }

    const idebIniciais = [6.0,5.9,6.1,5.5,5.8,6.2,6.5,6.0,6.2,5.9,5.9,6.0,6.0,5.8,6.0,6.0,6.1,6.3,5.4,5.9,6.0,5.9,6.1,6.0,6.0,6.0,5.8];
    const metaIniciais = [5.7,5.7,5.7,5.7,5.7,5.7,5.7,5.7,6.0,5.7,5.6,5.7,6.0,5.7,6.0,5.7,6.0,5.7,5.7,5.7,6.0,5.7,6.0,5.7,6.0,5.7,5.7];
    const coresIniciais = idebIniciais.map((v,i)=>corIdeb(v,metaIniciais[i]));
    new Chart(document.getElementById('graficoIdebIniciais').getContext('2d'), {
      type:'bar', data:{ labels:ufs, datasets:[{ label:'Ideb', data:idebIniciais, backgroundColor:coresIniciais }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true, max:7 } } }
    });

    const idebFinais = [4.5,5.2,4.9,4.3,4.0,5.1,4.5,4.8,5.2,4.1,4.2,4.7,4.8,4.0,5.1,5.0,5.0,5.3,4.2,4.9,4.8,4.4,5.0,4.3,4.9,4.8,4.1];
    const metaFinais = Array(27).fill(5.2);
    const coresFinais = idebFinais.map((v,i)=>corIdeb(v,metaFinais[i]));
    new Chart(document.getElementById('graficoIdebFinais').getContext('2d'), {
      type:'bar', data:{ labels:ufs, datasets:[{ label:'Ideb', data:idebFinais, backgroundColor:coresFinais }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true, max:7 } } }
    });

    const idebEM = [3.9,4.9,3.6,3.4,4.1,4.2,4.5,4.3,5.0,4.0,3.8,4.2,4.2,3.4,4.3,4.2,4.2,4.8,3.9,4.1,4.3,3.9,4.2,4.0,4.2,4.2,3.8];
    const metaEM = Array(27).fill(5.0);
    const coresEM = idebEM.map((v,i)=>corIdeb(v,metaEM[i]));
    new Chart(document.getElementById('graficoIdebEM').getContext('2d'), {
      type:'bar', data:{ labels:ufs, datasets:[{ label:'Ideb', data:idebEM, backgroundColor:coresEM }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true, max:7 } } }
    });

    const ufsTempoIntegralEM = ['DF','RR','SC','RS','MT','RO','PR','SP','MG','PE'];
    const percTempoIntegralEM = [69.6,40,38,36,35,34,34,33,32,31];
    const maxIndex = percTempoIntegralEM.indexOf(Math.max(...percTempoIntegralEM));
    const coresTempoIntegral = percTempoIntegralEM.map((v,i)=> i===maxIndex ? '#6610f2' : '#0d6efd');
    new Chart(document.getElementById('graficoTempoIntegralEM').getContext('2d'), {
      type:'bar',
      data:{ labels:ufsTempoIntegralEM, datasets:[{ label:'%', data:percTempoIntegralEM, backgroundColor:coresTempoIntegral }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true, max:100 } } }
    });

    const ufsDistorcao = ['SP','CE','RN','AP','MA','PE','AM','RR'];
    const taxaDistorcao = [5,6,15,18,14,12,13,17];
    const coresDistorcao = taxaDistorcao.map(v => v<=6 ? '#198754' : '#fd7e14');
    new Chart(document.getElementById('graficoDistorcao6ano').getContext('2d'), {
      type:'bar',
      data:{ labels:ufsDistorcao, datasets:[{ label:'%', data:taxaDistorcao, backgroundColor:coresDistorcao }] },
      options:{ responsive:true, plugins:{ legend:{ display:false } }, scales:{ y:{ beginAtZero:true, max:20 } } }
    });

    const anosCreche = ['2020','2021','2022','2023','2024'];
    const percCrechePublica = [20.3,18.9,22.1,24.5,25.8];
    const percCrechePrivada = [15.6,13.2,18.0,24.6,30.0];
    new Chart(document.getElementById('graficoCreche').getContext('2d'), {
      type:'bar',
      data:{ labels:anosCreche, datasets:[
        { label:'Pública', data:percCrechePublica, backgroundColor:'#0d6efd' },
        { label:'Privada', data:percCrechePrivada, backgroundColor:'#6610f2' }
      ]},
      options:{ responsive:true, plugins:{ legend:{ position:'top' } }, scales:{ y:{ beginAtZero:true, max:50 } } }
    });

  </script>
</body>
</html>
